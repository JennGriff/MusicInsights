---
title: "Music Insights"
author: Jennifer Griffiths
output: html_notebook
---

First we need to install tidyverse

```{r}

#There are 3 interrelated rules which make a dataset tidy:
#
## 1. Each variable must have its own column.
#
##2. Each observation must have its own row.
#
##3. Each value must have its own cell.

#####practical instructions:
#
# 1. Put each dataset in a tibble.
#
# 2. Put each variable in a column.

#install.packages("tidyverse")
library(tidyverse)

## Read directly from source adds authenticity and consistency 

## Avoid absolute paths : the whole path from root

## Use relative paths : relative to this project. Can use urls

## ?read_csv

survey <- read_csv("https://raw.githubusercontent.com/introdsci/MusicSurvey/master/music-survey.csv")

preferences <- read_csv("https://raw.githubusercontent.com/introdsci/MusicSurvey/master/preferences-survey.csv")
```

```{r}
## Inspect Data

View(preferences)
View(survey)
nrow(preferences)
ncol(preferences)
levels(preferences$`What was your pseudonym?`)
#summary(preferences)

## Interpreting NA with na option
```

#Changing the name of the columns in the survey dataframe
```{r}

colnames(survey)[colnames(survey) == "What is your pseudonym?" ] <- "pseudonym"

colnames(survey)[colnames(survey)== "First, we are going to create a pseudonym for you to keep this survey anonymous (more or less). Which pseudonym generator would you prefer?"] <- "pseudonym_generator"

colnames(survey)[colnames(survey) == "Timestamp" ] <- "time_submitted"

colnames(survey)[colnames(survey) == "Sex" ] <- "sex"

colnames(survey)[colnames(survey) == "Major" ] <- "academic_major"

colnames(survey)[colnames(survey) == "Year you were born (YYYY)" ] <- "year_born"

colnames(survey)[colnames(survey) == "Academic Year" ] <- "academic_level"

colnames(survey)[colnames(survey) == "Which musical instruments/talents do you play? (Select all that apply)" ] <- "instrument_list"

colnames(survey)[colnames(survey) == "Artist" ] <- "favorite_song_artist"

colnames(survey)[colnames(survey) == "Song" ] <- "favorite_song"

colnames(survey)[colnames(survey) == "Link to song (on Youtube or Vimeo)" ] <- "favorite_song_link"

```

#Load dplyr and tidyr libraries

```{r}
library("dplyr")
library("tidyr")


```
#Create Tables Using Tibble

##Person Table
```{r}
#dplyr::data_frame is now tibbles

Person <- tibble(time_submitted = survey$time_submitted, pseudonym = survey$pseudonym, generator_name =  survey$generator_name,sex = survey$sex, academic_major = survey$academic_major,year_born = survey$year_born)
```

##FavoriteSong Table
```{r}
FavoriteSong <- tibble(pseudonym = survey$pseudonym, artist =  survey$favorite_song_artist, song = survey$favorite_song, song_link = survey$favorite_song_link )

```
#Using Tidyr to clean up 

```{r}
#gather()
#spread()
```

```{r}

```

```{r}

```

How many tables? (Person, FavoriteSong, SongRatings, MusicalTalents)
Notes::
```{r}
#split string by a character (, " ")
?strsplit

#Parse functions
?parse_datetime

```

